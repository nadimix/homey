<div class="relative" data-controller="dropdown">
  <button data-action="click->dropdown#toggle" class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-full border border-indigo-300 shadow-sm bg-white hover:bg-indigo-50 text-indigo-700 transition duration-150 ease-in-out">
    <%= @trigger_text %>
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="m6 9 6 6 6-6"/>
    </svg>
  </button>

  <div data-dropdown-target="menu" class="hidden absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-indigo-300 ring-opacity-5 z-10">
    <div class="py-1" role="menu">
      <% @options.each do |option| %>
        <%= button_to @form_path, 
          method: :post, 
          params: { option: option },
          data: { action: "click->dropdown#close" },
          class: "w-full text-left px-4 py-2 text-sm text-indigo-700 hover:bg-indigo-100 transition duration-150 ease-in-out" do %>
          <%= option.titleize %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

